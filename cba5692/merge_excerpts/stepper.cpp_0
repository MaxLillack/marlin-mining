// EXCERPT FROM MERGE  Marlin/stepper.cpp

<<<<<<< HEAD
          #endif
        #endif

        #if defined(Z_PROBE_PIN) && Z_PROBE_PIN > -1
          UPDATE_ENDSTOP(z, Z, probe, PROBE);
          z_probe_endstop=(READ(Z_PROBE_PIN) != Z_MIN_ENDSTOP_INVERTING);
          if(z_probe_endstop && old_z_probe_endstop)
          {
        	  endstops_trigsteps[Z_AXIS] = count_position[Z_AXIS];
        	  endstop_z_hit=true;

//        	  if (z_probe_endstop && old_z_probe_endstop) SERIAL_ECHOLN("z_probe_endstop = true");
          }
          old_z_probe_endstop = z_probe_endstop;
        #endif
      }
=======

          #else // !Z_DUAL_ENDSTOPS

            UPDATE_ENDSTOP(z, Z, min, MIN);

          #endif // !Z_DUAL_ENDSTOPS

        #endif // Z_MIN_PIN

      } // check_endstops

>>>>>>> baa678739388d39b5619f73bc3715e5ab71bf21e

