commit c9141e604a11c5bf59159c0f50c0a25ae503fc90 (from 3778362f882883e98021a4178c4ea66fe006f584)
Merge: 3778362 b55f871
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Fri May 22 18:47:37 2015 -0700

    Merge pull request #2145 from thinkyhead/gcode_folding
    
    Indentation in process_commands

diff --git a/Marlin/Marlin_main.cpp b/Marlin/Marlin_main.cpp
index 478172e..e164618 100644
--- a/Marlin/Marlin_main.cpp
+++ b/Marlin/Marlin_main.cpp
@@ -5227,75 +5227,75 @@ void process_next_command() {
   switch(command_code) {
     case 'G': switch (codenum) {
 
-    // G0, G1
-    case 0:
-    case 1:
-      gcode_G0_G1();
-      break;
-
-    // G2, G3
-    #ifndef SCARA
-      case 2: // G2  - CW ARC
-      case 3: // G3  - CCW ARC
-        gcode_G2_G3(codenum == 2);
+      // G0, G1
+      case 0:
+      case 1:
+        gcode_G0_G1();
         break;
-    #endif
-
-    // G4 Dwell
-    case 4:
-      gcode_G4();
-      break;
 
-    #ifdef FWRETRACT
+      // G2, G3
+      #ifndef SCARA
+        case 2: // G2  - CW ARC
+        case 3: // G3  - CCW ARC
+          gcode_G2_G3(codenum == 2);
+          break;
+      #endif
 
-      case 10: // G10: retract
-      case 11: // G11: retract_recover
-        gcode_G10_G11(codenum == 10);
+      // G4 Dwell
+      case 4:
+        gcode_G4();
         break;
 
-    #endif //FWRETRACT
-
-    case 28: // G28: Home all axes, one at a time
-      gcode_G28();
-      break;
+      #ifdef FWRETRACT
 
-    #if defined(ENABLE_AUTO_BED_LEVELING) || defined(MESH_BED_LEVELING)
-      case 29: // G29 Detailed Z-Probe, probes the bed at 3 or more points.
-        gcode_G29();
-        break;
-    #endif
+        case 10: // G10: retract
+        case 11: // G11: retract_recover
+          gcode_G10_G11(codenum == 10);
+          break;
 
-    #ifdef ENABLE_AUTO_BED_LEVELING
+      #endif //FWRETRACT
 
-      #ifndef Z_PROBE_SLED
+      case 28: // G28: Home all axes, one at a time
+        gcode_G28();
+        break;
 
-        case 30: // G30 Single Z Probe
-          gcode_G30();
+      #if defined(ENABLE_AUTO_BED_LEVELING) || defined(MESH_BED_LEVELING)
+        case 29: // G29 Detailed Z-Probe, probes the bed at 3 or more points.
+          gcode_G29();
           break;
+      #endif
 
-      #else // Z_PROBE_SLED
+      #ifdef ENABLE_AUTO_BED_LEVELING
 
-          case 31: // G31: dock the sled
-          case 32: // G32: undock the sled
-            dock_sled(codenum == 31);
+        #ifndef Z_PROBE_SLED
+
+          case 30: // G30 Single Z Probe
+            gcode_G30();
             break;
 
-      #endif // Z_PROBE_SLED
+        #else // Z_PROBE_SLED
 
-    #endif // ENABLE_AUTO_BED_LEVELING
+            case 31: // G31: dock the sled
+            case 32: // G32: undock the sled
+              dock_sled(codenum == 31);
+              break;
 
-    case 90: // G90
-      relative_mode = false;
-      break;
-    case 91: // G91
-      relative_mode = true;
-      break;
+        #endif // Z_PROBE_SLED
 
-    case 92: // G92
-      gcode_G92();
-      break;
+      #endif // ENABLE_AUTO_BED_LEVELING
 
-    default: code_is_good = false;
+      case 90: // G90
+        relative_mode = false;
+        break;
+      case 91: // G91
+        relative_mode = true;
+        break;
+
+      case 92: // G92
+        gcode_G92();
+        break;
+
+      default: code_is_good = false;
     }
     break;
 

commit c9141e604a11c5bf59159c0f50c0a25ae503fc90 (from b55f8718c39f3e295621addc775570680706c643)
Merge: 3778362 b55f871
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Fri May 22 18:47:37 2015 -0700

    Merge pull request #2145 from thinkyhead/gcode_folding
    
    Indentation in process_commands

diff --git a/Marlin/pins_AZTEEG_X3.h b/Marlin/pins_AZTEEG_X3.h
index 7c5dca3..e961e7a 100644
--- a/Marlin/pins_AZTEEG_X3.h
+++ b/Marlin/pins_AZTEEG_X3.h
@@ -2,10 +2,9 @@
  * AZTEEG_X3 Arduino Mega with RAMPS v1.3 pin assignments
  */
 
-#include "pins_RAMPS_13.h"
+#define IS_RAMPS_EFB
 
-#define FAN_PIN            9 // (Sprinter config)
-#define HEATER_1_PIN       -1
+#include "pins_RAMPS_13.h"
 
 //LCD Pins//
 
diff --git a/Marlin/pins_BAM_DICE_DUE.h b/Marlin/pins_BAM_DICE_DUE.h
index fba7f1b..2ec354e 100644
--- a/Marlin/pins_BAM_DICE_DUE.h
+++ b/Marlin/pins_BAM_DICE_DUE.h
@@ -2,13 +2,9 @@
  * BAM&DICE Due (Arduino Mega) pin assignments
  */
 
-#include "pins_RAMPS_13.h"
-
-#undef FAN_PIN
-#define FAN_PIN             9 // (Sprinter config)
+#define IS_RAMPS_EFB
 
-#undef HEATER_1_PIN
-#define HEATER_1_PIN       -1
+#include "pins_RAMPS_13.h"
 
 #undef TEMP_0_PIN
 #undef TEMP_1_PIN
diff --git a/Marlin/pins_FELIX2.h b/Marlin/pins_FELIX2.h
index f54de34..2fa40e2 100644
--- a/Marlin/pins_FELIX2.h
+++ b/Marlin/pins_FELIX2.h
@@ -2,43 +2,20 @@
  * FELIXprinters v2.0/3.0 (RAMPS v1.3) pin assignments
  */
 
+#define IS_RAMPS_EFB
+
 #include "pins_RAMPS_13.h"
 
-#undef X_MAX_PIN
-#undef Y_MAX_PIN
-#undef Z_MAX_PIN
-#define X_MAX_PIN          -1
-#define Y_MAX_PIN          -1
-#define Z_MAX_PIN          -1
-
-#undef Y2_STEP_PIN
-#undef Y2_DIR_PIN
-#undef Y2_ENABLE_PIN
-#define Y2_STEP_PIN        -1
-#define Y2_DIR_PIN         -1
-#define Y2_ENABLE_PIN      -1
-
-#undef Z2_STEP_PIN
-#undef Z2_DIR_PIN
-#undef Z2_ENABLE_PIN
-#define Z2_STEP_PIN        -1
-#define Z2_DIR_PIN         -1
-#define Z2_ENABLE_PIN      -1
-
-#define E1_STEP_PIN        36 // FELIX E1 uses RAMPS Y2/Z2 pins
-#define E1_DIR_PIN         34
-#define E1_ENABLE_PIN      30
+#undef HEATER_1_PIN
+#define HEATER_1_PIN        7 // EXTRUDER 2
+
+#define DISABLE_MAX_ENDSTOPS
 
 #undef SDPOWER
 #define SDPOWER             1
 
-#undef FAN_PIN
-#define FAN_PIN             9 // (Sprinter config)
 #define PS_ON_PIN          12
 
-#undef HEATER_1_PIN
-#define HEATER_1_PIN        7 // EXTRUDER 2
-
 #if defined(ULTRA_LCD) && defined(NEWPANEL)
 
   #define BLEN_C 2
diff --git a/Marlin/pins_MKS_BASE.h b/Marlin/pins_MKS_BASE.h
index 5a5b8ea..fd4d2f1 100644
--- a/Marlin/pins_MKS_BASE.h
+++ b/Marlin/pins_MKS_BASE.h
@@ -2,10 +2,9 @@
  * MKS BASE 1.0 â€“ Arduino Mega2560 with RAMPS v1.4 pin assignments
  */
 
-#include "pins_RAMPS_13.h"
+#define IS_RAMPS_EFB
 
-#undef FAN_PIN
-#define FAN_PIN             9 // (Sprinter config)
+#include "pins_RAMPS_13.h"
 
 #undef HEATER_1_PIN
 #define HEATER_1_PIN        7
diff --git a/Marlin/pins_RAMPS_13.h b/Marlin/pins_RAMPS_13.h
index 37683b8..a99be9c 100644
--- a/Marlin/pins_RAMPS_13.h
+++ b/Marlin/pins_RAMPS_13.h
@@ -77,7 +77,7 @@
   #define FILRUNOUT_PIN        4
 #endif
 
-#if MB(RAMPS_13_EFB) || MB(RAMPS_13_EFF)
+#if MB(RAMPS_13_EFB) || MB(RAMPS_13_EFF) || defined(IS_RAMPS_EFB)
   #define FAN_PIN            9 // (Sprinter config)
   #if MB(RAMPS_13_EFF)
     #define CONTROLLERFAN_PIN  -1 // Pin used for the fan to cool controller
@@ -102,7 +102,7 @@
   #define HEATER_0_PIN       10   // EXTRUDER 1
 #endif
 
-#if MB(RAMPS_13_EFB) || MB(RAMPS_13_SF)
+#if MB(RAMPS_13_EFB) || MB(RAMPS_13_SF) || defined(IS_RAMPS_EFB)
   #define HEATER_1_PIN       -1
 #else
   #define HEATER_1_PIN       9    // EXTRUDER 2 (FAN On Sprinter)

