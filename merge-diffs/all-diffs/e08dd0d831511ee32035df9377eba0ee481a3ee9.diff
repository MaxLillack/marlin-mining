commit e08dd0d831511ee32035df9377eba0ee481a3ee9 (from 9e95f30de052b9dc2c080b31bc6c9a43f07fa8db)
Merge: 9e95f30 fda8f96
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Thu Apr 14 16:57:38 2016 -0700

    Merge pull request #3498 from thinkyhead/rc_preheat_abs_both_3489
    
    Fix bug in lcd_preheat_pla0123 and lcd_preheat_abs0123

diff --git a/Marlin/ultralcd.cpp b/Marlin/ultralcd.cpp
index 3858e16..053c8f2 100644
--- a/Marlin/ultralcd.cpp
+++ b/Marlin/ultralcd.cpp
@@ -789,16 +789,20 @@ void _lcd_preheat(int endnum, const float temph, const float tempb, const int fa
   #endif
 
   void lcd_preheat_pla0123() {
-    setTargetHotend0(plaPreheatHotendTemp);
-    setTargetHotend1(plaPreheatHotendTemp);
-    setTargetHotend2(plaPreheatHotendTemp);
-    _lcd_preheat(3, plaPreheatHotendTemp, plaPreheatHPBTemp, plaPreheatFanSpeed);
+    #if EXTRUDERS > 1
+      setTargetHotend0(plaPreheatHotendTemp);
+      setTargetHotend1(plaPreheatHotendTemp);
+      setTargetHotend2(plaPreheatHotendTemp);
+    #endif
+    _lcd_preheat(EXTRUDERS - 1, plaPreheatHotendTemp, plaPreheatHPBTemp, plaPreheatFanSpeed);
   }
   void lcd_preheat_abs0123() {
-    setTargetHotend0(absPreheatHotendTemp);
-    setTargetHotend1(absPreheatHotendTemp);
-    setTargetHotend2(absPreheatHotendTemp);
-    _lcd_preheat(3, absPreheatHotendTemp, absPreheatHPBTemp, absPreheatFanSpeed);
+    #if EXTRUDERS > 1
+      setTargetHotend0(absPreheatHotendTemp);
+      setTargetHotend1(absPreheatHotendTemp);
+      setTargetHotend2(absPreheatHotendTemp);
+    #endif
+    _lcd_preheat(EXTRUDERS - 1, absPreheatHotendTemp, absPreheatHPBTemp, absPreheatFanSpeed);
   }
 
 #endif // EXTRUDERS > 1

commit e08dd0d831511ee32035df9377eba0ee481a3ee9 (from fda8f96f00d3e0d5da86c779de858e6467a1231b)
Merge: 9e95f30 fda8f96
Author: Scott Lahteine <thinkyhead@users.noreply.github.com>
Date:   Thu Apr 14 16:57:38 2016 -0700

    Merge pull request #3498 from thinkyhead/rc_preheat_abs_both_3489
    
    Fix bug in lcd_preheat_pla0123 and lcd_preheat_abs0123

diff --git a/Marlin/SanityCheck.h b/Marlin/SanityCheck.h
index 6f49278..894ac85 100644
--- a/Marlin/SanityCheck.h
+++ b/Marlin/SanityCheck.h
@@ -290,6 +290,10 @@
   #error ULTIPANEL requires some kind of encoder.
 #endif
 
+#if ENCODER_PULSES_PER_STEP < 0
+  #error ENCODER_PULSES_PER_STEP should not be negative, use REVERSE_MENU_DIRECTION instead
+#endif
+
 /**
  * Delta has limited bed leveling options
  */

